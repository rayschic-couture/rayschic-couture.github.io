<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Admin Rayschic</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
body{background:#1a1a2e;color:white;font-family:Segoe UI;padding:20px}
.container{max-width:1200px;margin:auto;background:#2d3047;padding:25px;border-radius:15px}
.btn{background:#d4af37;color:#1a1a2e;border:none;padding:10px 15px;border-radius:5px;cursor:pointer}
.btn-secondary{background:transparent;border:2px solid #d4af37;color:#d4af37}
.delete-btn{background:#ff4757;color:white}
.image-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:15px}
.image-card{background:#0003;border-radius:10px;overflow:hidden}
.image-preview{width:100%;height:140px;object-fit:cover}
.image-info{padding:10px}
.filter-buttons{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-bottom:20px}
.active-filter{background:#d4af37!important;color:#1a1a2e!important}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;justify-content:center;align-items:center}
.modal-content{background:#2d3047;padding:20px;border-radius:10px;width:90%;max-width:400px}
</style>
</head>

<body>
<div class="container">
<h1 style="text-align:center;color:#d4af37">RAY<span style="color:white">SCHIC</span> ADMIN</h1>

<div class="filter-buttons">
<button class="btn btn-secondary active-filter" onclick="filterImages('all')">Tout</button>
<button class="btn btn-secondary" onclick="filterImages('hero')">Hero</button>
<button class="btn btn-secondary" onclick="filterImages('costumes')">Costumes</button>
<button class="btn btn-secondary" onclick="filterImages('chemises')">Chemises</button>
<button class="btn btn-secondary" onclick="filterImages('pantalons')">Pantalons</button>
<button class="btn btn-secondary" onclick="filterImages('vestes')">Vestes</button>
<button class="btn btn-secondary" onclick="filterImages('tenues')">Tenues</button>
<button class="btn btn-secondary" onclick="filterImages('accessoires')">Accessoires</button>
</div>

<div id="imageGrid" class="image-grid"></div>
<div id="status"></div>
</div>

<script>
const GITHUB_REPO="rayschic-couture/rayschic-couture.github.io";
const GITHUB_BRANCH="main";
const RAW="https://raw.githubusercontent.com";

const SITE_IMAGES=[
"hero.jpg",
"costume1.jpg","costume2.jpg","costume3.jpg",
"chemise1.jpg","chemise2.jpg","chemise3.jpg",
"pantalon1.jpg","pantalon2.jpg","pantalon3.jpg",
"veste1.jpg","veste2.jpg","veste3.jpg",
"tenue1.jpg","tenue2.jpg","tenue3.jpg",
"accessoire1.jpg","accessoire2.jpg","accessoire3.jpg"
];

function getCategory(file){
if(file==="hero.jpg")return"hero";
if(file.includes("costume"))return"costumes";
if(file.includes("chemise"))return"chemises";
if(file.includes("pantalon"))return"pantalons";
if(file.includes("veste"))return"vestes";
if(file.includes("tenue"))return"tenues";
if(file.includes("accessoire"))return"accessoires";
return"autre";
}

function loadImages(){
let html="";
SITE_IMAGES.forEach(f=>{
let cat=getCategory(f);
let url=`${RAW}/${GITHUB_REPO}/${GITHUB_BRANCH}/images/${f}?t=${Date.now()}`;
html+=`
<div class="image-card" data-category="${cat}">
<img src="${url}" class="image-preview">
<div class="image-info">
<b>${f}</b><br>
<small>${cat}</small><br>
<button class="btn" onclick="replaceImage('${f}')">Modifier</button>
<button class="btn delete-btn" onclick="deleteImage('${f}')">Supprimer</button>
</div></div>`;
});
document.getElementById("imageGrid").innerHTML=html;
}

function filterImages(cat){
document.querySelectorAll(".image-card").forEach(c=>{
c.style.display=(cat==="all"||c.dataset.category===cat)?"block":"none";
});
document.querySelectorAll(".filter-buttons button").forEach(b=>b.classList.remove("active-filter"));
event.target.classList.add("active-filter");
}

function replaceImage(f){
window.open(`https://github.com/${GITHUB_REPO}/upload/${GITHUB_BRANCH}/images`,"_blank");
alert("Renomme ton fichier en : "+f);
}

function deleteImage(f){
if(confirm("Supprimer "+f+" ?")){
window.open(`https://github.com/${GITHUB_REPO}/blob/${GITHUB_BRANCH}/images/${f}`,"_blank");
}
}

loadImages();
</script>
</body>
</html>
