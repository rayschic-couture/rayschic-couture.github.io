<!DOCTYPE html>
<html>
<body>
  <h2>Upload Image</h2>
  <input type="file" id="imageInput">
  <button onclick="uploadImage()">Upload</button>
  
  <script>
  async function uploadImage() {
    const file = document.getElementById('imageInput').files[0];
    const formData = new FormData();
    formData.append('file', file);
    
    // Utilisez l'API GitHub directement
    const response = await fetch('https://api.github.com/repos/rayschic-couture/rayschic-couture.github.io/contents/images/test.jpg', {
      method: 'PUT',
      headers: {
        'Authorization': 'token VOTRE_TOKEN',
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        message: 'Add image via upload',
        content: await toBase64(file)
      })
    });
    
    alert(response.ok ? 'Success!' : 'Error');
  }
  
  function toBase64(file) {
    return new Promise((resolve, reject) => {
      const reader = new FileReader();
      reader.readAsDataURL(file);
      reader.onload = () => resolve(reader.result.split(',')[1]);
      reader.onerror = error => reject(error);
    });
  }
  </script>
</body>
</html>
