<!DOCTYPE html>
<html>
<head>
  <title>Admin Rayschic - Gestion compl√®te</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, #1a1a2e 0%, #2d3047 100%);
      color: white;
      padding: 20px;
      min-height: 100vh;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: #2d3047;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      border-top: 4px solid #d4af37;
    }
    
    h1 {
      color: #d4af37;
      margin-bottom: 10px;
      text-align: center;
    }
    
    h1 span {
      color: white;
    }
    
    .section {
      background: rgba(255,255,255,0.05);
      padding: 25px;
      border-radius: 10px;
      margin: 25px 0;
      border-left: 4px solid #d4af37;
    }
    
    .drop-zone {
      border: 3px dashed #d4af37;
      border-radius: 10px;
      padding: 40px;
      text-align: center;
      margin: 20px 0;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .drop-zone:hover {
      background: rgba(212, 175, 55, 0.1);
    }
    
    .image-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .image-card {
      background: rgba(0,0,0,0.3);
      border-radius: 8px;
      overflow: hidden;
      transition: transform 0.3s;
    }
    
    .image-card:hover {
      transform: translateY(-5px);
    }
    
    .image-preview {
      width: 100%;
      height: 150px;
      object-fit: cover;
      display: block;
    }
    
    .image-info {
      padding: 15px;
    }
    
    .btn {
      background: #d4af37;
      color: #1a1a2e;
      padding: 8px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      margin: 3px;
      display: inline-block;
      text-decoration: none;
      transition: all 0.3s;
      font-size: 12px;
    }
    
    .btn:hover {
      background: #b8941f;
      transform: translateY(-2px);
    }
    
    .btn-secondary {
      background: transparent;
      color: #d4af37;
      border: 1px solid #d4af37;
    }
    
    .delete-btn {
      background: #ff4757;
      color: white;
    }
    
    .status {
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
      text-align: center;
    }
    
    .success {
      background: rgba(46, 213, 115, 0.2);
      border: 1px solid #2ed573;
      color: #2ed573;
    }
    
    .error {
      background: rgba(255, 71, 87, 0.2);
      border: 1px solid #ff4757;
      color: #ff4757;
    }
    
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.9);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }
    
    .modal-content {
      background: #2d3047;
      padding: 30px;
      border-radius: 15px;
      max-width: 500px;
      width: 90%;
      border-top: 4px solid #d4af37;
    }
    
    .modal h3 {
      color: #d4af37;
      margin-bottom: 20px;
      text-align: center;
    }
    
    .preview-container {
      text-align: center;
      margin: 20px 0;
    }
    
    .preview-image {
      max-width: 100%;
      max-height: 300px;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    
    .modal-actions {
      display: flex;
      gap: 10px;
      margin-top: 20px;
      justify-content: center;
    }
    
    .upload-btn {
      background: #25D366;
      color: white;
    }
    
    .instructions {
      background: rgba(255,255,255,0.05);
      padding: 20px;
      border-radius: 8px;
      margin-top: 30px;
    }
    
    .instructions h3 {
      color: #d4af37;
      margin-bottom: 10px;
    }
    
    .tab-container {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      border-bottom: 2px solid #444;
      padding-bottom: 10px;
      flex-wrap: wrap;
    }
    
    .tab {
      padding: 10px 20px;
      background: transparent;
      border: none;
      color: #aaa;
      cursor: pointer;
      border-radius: 5px 5px 0 0;
      transition: all 0.3s;
    }
    
    .tab.active {
      background: #d4af37;
      color: #1a1a2e;
      font-weight: bold;
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    .image-actions {
      display: flex;
      gap: 5px;
      margin-top: 10px;
    }
    
    .image-actions .btn {
      flex: 1;
      text-align: center;
    }
    
    .category-badge {
      display: inline-block;
      background: rgba(212, 175, 55, 0.2);
      color: #d4af37;
      padding: 3px 8px;
      border-radius: 10px;
      font-size: 11px;
      margin-right: 5px;
    }
    
    .loading {
      text-align: center;
      padding: 40px;
    }
    
    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid #f3f3f3;
      border-top: 4px solid #d4af37;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* Pour mobile */
    @media (max-width: 768px) {
      .image-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      }
      
      .btn {
        padding: 6px 10px;
        font-size: 11px;
      }
      
      .modal-content {
        width: 95%;
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>RAY<span>SCHIC</span> Admin</h1>
    <p style="text-align: center; color: #bdc3c7; margin-bottom: 30px;">Interface compl√®te de gestion des images</p>
    
    <div class="tab-container">
      <button class="tab active" onclick="switchTab('gallery')">üñºÔ∏è Galerie</button>
      <button class="tab" onclick="switchTab('upload')">üì§ Uploader</button>
      <button class="tab" onclick="switchTab('manage')">‚öôÔ∏è G√©rer</button>
    </div>
    
    <!-- Tab 1: Galerie -->
    <div id="gallery-tab" class="tab-content active">
      <div class="section">
        <h2>Galerie des images</h2>
        <p style="color: #aaa; margin-bottom: 20px;">Cliquez sur "Modifier" pour remplacer une image</p>
        
        <div style="display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;">
          <button class="btn" onclick="filterImages('all')">Tout</button>
          <button class="btn btn-secondary" onclick="filterImages('costumes')">Costumes</button>
          <button class="btn btn-secondary" onclick="filterImages('chemises')">Chemises</button>
          <button class="btn btn-secondary" onclick="filterImages('pantalons')">Pantalons</button>
          <button class="btn btn-secondary" onclick="filterImages('vestes')">Vestes</button>
          <button class="btn btn-secondary" onclick="filterImages('hero')">Hero</button>
        </div>
        
        <div id="galleryGrid" class="image-grid">
          <!-- Les images seront charg√©es ici -->
          <div class="loading">
            <div class="spinner"></div>
            <p>Chargement des images...</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Tab 2: Upload -->
    <div id="upload-tab" class="tab-content">
      <div class="section">
        <h2>Uploader de nouvelles images</h2>
        
        <div class="drop-zone" id="dropZone">
          <i class="fas fa-cloud-upload-alt" style="font-size: 48px; color: #d4af37; margin-bottom: 15px;"></i>
          <h3>Glissez-d√©posez vos images ici</h3>
          <p>Ou cliquez pour s√©lectionner des fichiers</p>
          <p style="color: #aaa; font-size: 14px; margin-top: 10px;">
            Formats : JPG, PNG ‚Ä¢ Max : 10MB par image
          </p>
          <input type="file" id="fileInput" accept="image/*" multiple style="display: none;">
        </div>
        
        <div style="margin-top: 30px; background: rgba(0,0,0,0.2); padding: 20px; border-radius: 10px;">
          <h4 style="color: #d4af37; margin-bottom: 15px;">Options :</h4>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
            <div>
              <label style="display: block; margin-bottom: 8px; color: #aaa;">Cat√©gorie :</label>
              <select id="categorySelect" style="width: 100%; padding: 10px; border-radius: 5px; background: rgba(0,0,0,0.3); color: white; border: 1px solid #444;">
                <option value="costumes">Costumes</option>
                <option value="chemises">Chemises</option>
                <option value="pantalons">Pantalons</option>
                <option value="vestes">Vestes</option>
                <option value="accessoires">Accessoires</option>
                <option value="hero">Image Hero (principale)</option>
              </select>
            </div>
            <div>
              <label style="display: block; margin-bottom: 8px; color: #aaa;">Nom du fichier :</label>
              <input type="text" id="imageName" placeholder="Ex: costume1.jpg" style="width: 100%; padding: 10px; border-radius: 5px; background: rgba(0,0,0,0.3); color: white; border: 1px solid #444;">
            </div>
          </div>
          
          <div style="text-align: center; margin-top: 20px;">
            <button class="btn" style="padding: 12px 30px; font-size: 14px;" onclick="uploadNewImages()">
              <i class="fas fa-upload"></i> Uploader maintenant
            </button>
          </div>
        </div>
        
        <div id="uploadStatus" class="status" style="margin-top: 20px;"></div>
      </div>
    </div>
    
    <!-- Tab 3: G√©rer -->
    <div id="manage-tab" class="tab-content">
      <div class="section">
        <h2>Gestion avanc√©e</h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
          <div style="background: rgba(0,0,0,0.2); padding: 20px; border-radius: 10px;">
            <h3 style="color: #d4af37; margin-bottom: 15px;">Image Hero</h3>
            <img id="heroPreview" src="" style="width: 100%; height: 120px; object-fit: cover; border-radius: 5px; margin-bottom: 15px;" onerror="this.src='https://via.placeholder.com/300x120/2d3047/d4af37?text=Hero+Image'">
            <button class="btn" onclick="changeHeroImage()" style="width: 100%;">
              <i class="fas fa-image"></i> Changer l'image hero
            </button>
          </div>
          
          <div style="background: rgba(0,0,0,0.2); padding: 20px; border-radius: 10px;">
            <h3 style="color: #d4af37; margin-bottom: 15px;">Site web</h3>
            <p style="color: #aaa; margin-bottom: 15px;">Acc√©dez √† votre site :</p>
            <a href="https://rayschic-couture.github.io" target="_blank" style="color: #d4af37; font-weight: bold; display: block; margin-bottom: 15px;">
              https://rayschic-couture.github.io
            </a>
            <button class="btn" onclick="window.open('https://rayschic-couture.github.io', '_blank')" style="width: 100%;">
              <i class="fas fa-external-link-alt"></i> Ouvrir le site
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="instructions">
      <h3>üìã Mode d'emploi :</h3>
      <ol style="padding-left: 20px; margin: 10px 0;">
        <li><strong>Pour modifier une image</strong> : Cliquez sur "Modifier" et s√©lectionnez une nouvelle photo</li>
        <li><strong>Pour uploader</strong> : Glissez-d√©posez ou cliquez pour s√©lectionner des fichiers</li>
        <li><strong>Nommez correctement</strong> : costume1.jpg, chemise1.jpg, etc.</li>
        <li>Les modifications sont automatiquement enregistr√©es</li>
      </ol>
    </div>
  </div>

  <!-- Modal pour modifier une image -->
  <div id="editModal" class="modal">
    <div class="modal-content">
      <h3>Modifier l'image</h3>
      <p id="modalFilename" style="text-align: center; color: #aaa; margin-bottom: 20px;">chargement...</p>
      
      <div class="preview-container">
        <img id="modalPreview" src="" class="preview-image" onerror="this.src='https://via.placeholder.com/400x300/2d3047/d4af37?text=Aper√ßu'">
        
        <div style="margin-top: 20px;">
          <input type="file" id="imageUploadInput" accept="image/*" style="display: none;">
          <button class="btn upload-btn" onclick="document.getElementById('imageUploadInput').click()" style="padding: 12px 25px; font-size: 14px;">
            <i class="fas fa-camera"></i> Choisir une nouvelle photo
          </button>
          <p style="color: #aaa; font-size: 12px; margin-top: 10px;">Formats accept√©s : JPG, PNG ‚Ä¢ Max 10MB</p>
        </div>
        
        <div id="newImagePreview" style="display: none; margin-top: 20px;">
          <h4 style="color: #d4af37;">Nouvelle image :</h4>
          <img id="newImage" src="" style="max-width: 100%; max-height: 200px; border-radius: 5px; margin-top: 10px;">
        </div>
      </div>
      
      <div class="modal-actions">
        <button class="btn" id="saveButton" onclick="saveImage()" style="padding: 12px 30px; display: none;">
          <i class="fas fa-save"></i> Enregistrer
        </button>
        <button class="btn delete-btn" onclick="deleteImage()" style="padding: 12px 30px;">
          <i class="fas fa-trash"></i> Supprimer
        </button>
        <button class="btn btn-secondary" onclick="closeModal()" style="padding: 12px 30px;">
          <i class="fas fa-times"></i> Annuler
        </button>
      </div>
    </div>
  </div>

  <script>
    // Configuration
    const GITHUB_RAW = 'https://raw.githubusercontent.com/rayschic-couture/rayschic-couture.github.io/main';
    const IMAGES_LIST = [
      // Costumes
      { name: 'costume1.jpg', category: 'costumes', title: 'Costume 1' },
      { name: 'costume2.jpg', category: 'costumes', title: 'Costume 2' },
      { name: 'costume3.jpg', category: 'costumes', title: 'Costume 3' },
      { name: 'costume4.jpg', category: 'costumes', title: 'Costume 4' },
      { name: 'costume5.jpg', category: 'costumes', title: 'Costume 5' },
      { name: 'costume6.jpg', category: 'costumes', title: 'Costume 6' },
      
      // Chemises
      { name: 'chemise1.jpg', category: 'chemises', title: 'Chemise 1' },
      { name: 'chemise2.jpg', category: 'chemises', title: 'Chemise 2' },
      { name: 'chemise3.jpg', category: 'chemises', title: 'Chemise 3' },
      { name: 'chemise4.jpg', category: 'chemises', title: 'Chemise 4' },
      { name: 'chemise5.jpg', category: 'chemises', title: 'Chemise 5' },
      { name: 'chemise6.jpg', category: 'chemises', title: 'Chemise 6' },
      
      // Pantalons
      { name: 'pantalon1.jpg', category: 'pantalons', title: 'Pantalon 1' },
      { name: 'pantalon2.jpg', category: 'pantalons', title: 'Pantalon 2' },
      { name: 'pantalon3.jpg', category: 'pantalons', title: 'Pantalon 3' },
      { name: 'pantalon4.jpg', category: 'pantalons', title: 'Pantalon 4' },
      { name: 'pantalon5.jpg', category: 'pantalons', title: 'Pantalon 5' },
      { name: 'pantalon6.jpg', category: 'pantalons', title: 'Pantalon 6' },
      
      // Vestes
      { name: 'veste1.jpg', category: 'vestes', title: 'Veste 1' },
      { name: 'veste2.jpg', category: 'vestes', title: 'Veste 2' },
      { name: 'veste3.jpg', category: 'vestes', title: 'Veste 3' },
      { name: 'veste4.jpg', category: 'vestes', title: 'Veste 4' },
      { name: 'veste5.jpg', category: 'vestes', title: 'Veste 5' },
      { name: 'veste6.jpg', category: 'vestes', title: 'Veste 6' },
      
      // Hero
      { name: 'hero.jpg', category: 'hero', title: 'Image Hero' }
    ];
    
    let currentEditingImage = null;
    let selectedNewImage = null;
    
    // Initialisation
    document.addEventListener('DOMContentLoaded', function() {
      loadGallery();
      setupEventListeners();
      loadFontAwesome();
    });
    
    // Charger Font Awesome
    function loadFontAwesome() {
      if (!document.querySelector('link[href*="font-awesome"]')) {
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css';
        document.head.appendChild(link);
      }
    }
    
    // Setup des √©v√©nements
    function setupEventListeners() {
      // Drag & drop
      const dropZone = document.getElementById('dropZone');
      const fileInput = document.getElementById('fileInput');
      
      dropZone.addEventListener('click', () => fileInput.click());
      
      ['dragover', 'dragleave', 'drop'].forEach(eventName => {
        dropZone.addEventListener(eventName, preventDefaults, false);
      });
      
      dropZone.addEventListener('dragover', () => {
        dropZone.style.background = 'rgba(212, 175, 55, 0.15)';
      });
      
      dropZone.addEventListener('dragleave', () => {
        dropZone.style.background = '';
      });
      
      dropZone.addEventListener('drop', (e) => {
        dropZone.style.background = '';
        if (e.dataTransfer.files.length) {
          handleDroppedFiles(e.dataTransfer.files);
        }
      });
      
      fileInput.addEventListener('change', (e) => {
        if (e.target.files.length) {
          handleDroppedFiles(e.target.files);
        }
      });
      
      // Upload d'image dans le modal
      document.getElementById('imageUploadInput').addEventListener('change', function(e) {
        if (e.target.files[0]) {
          handleImageUpload(e.target.files[0]);
        }
      });
    }
    
    function preventDefaults(e) {
      e.preventDefault();
      e.stopPropagation();
    }
    
    // Charger la galerie
    function loadGallery() {
      const galleryGrid = document.getElementById('galleryGrid');
      
      galleryGrid.innerHTML = '';
      
      IMAGES_LIST.forEach(image => {
        const card = createImageCard(image);
        galleryGrid.appendChild(card);
      });
    }
    
    // Cr√©er une carte d'image
    function createImageCard(image) {
      const card = document.createElement('div');
      card.className = 'image-card';
      card.dataset.category = image.category;
      
      const imageUrl = `${GITHUB_RAW}/images/${image.name}`;
      
      card.innerHTML = `
        <img src="${imageUrl}" class="image-preview" 
             onerror="this.src='https://via.placeholder.com/200x150/2d3047/d4af37?text=${image.name}'"
             alt="${image.title}">
        <div class="image-info">
          <p style="margin: 5px 0; font-weight: bold; font-size: 14px;">${image.title}</p>
          <p style="margin: 3px 0; color: #aaa; font-size: 12px;">
            <span class="category-badge">${image.category}</span>
            ${image.name}
          </p>
          <div class="image-actions">
            <button class="btn" onclick="editImage('${image.name}', '${image.title}')" style="flex: 2;">
              <i class="fas fa-edit"></i> Modifier
            </button>
            <button class="btn delete-btn" onclick="confirmDelete('${image.name}')" style="flex: 1;">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        </div>
      `;
      
      return card;
    }
    
    // MODIFIER UNE IMAGE (la fonction principale que vous voulez)
    function editImage(filename, title) {
      currentEditingImage = { filename, title };
      
      // Afficher le modal
      const modal = document.getElementById('editModal');
      const preview = document.getElementById('modalPreview');
      const filenameEl = document.getElementById('modalFilename');
      
      filenameEl.textContent = `Remplacer : ${filename}`;
      preview.src = `${GITHUB_RAW}/images/${filename}`;
      
      // R√©initialiser
      document.getElementById('newImagePreview').style.display = 'none';
      document.getElementById('saveButton').style.display = 'none';
      selectedNewImage = null;
      
      modal.style.display = 'flex';
    }
    
    // G√©rer l'upload d'une nouvelle image dans le modal
    function handleImageUpload(file) {
      // V√©rifier la taille
      if (file.size > 10 * 1024 * 1024) {
        showStatus('Fichier trop grand (max 10MB)', 'error');
        return;
      }
      
      // V√©rifier le type
      if (!file.type.match('image.*')) {
        showStatus('Format non support√©', 'error');
        return;
      }
      
      selectedNewImage = file;
      
      // Afficher la pr√©visualisation
      const reader = new FileReader();
      reader.onload = function(e) {
        document.getElementById('newImage').src = e.target.result;
        document.getElementById('newImagePreview').style.display = 'block';
        document.getElementById('saveButton').style.display = 'inline-block';
      };
      reader.readAsDataURL(file);
      
      showStatus('Nouvelle image s√©lectionn√©e', 'success');
    }
    
    // Sauvegarder la nouvelle image
    async function saveImage() {
      if (!selectedNewImage || !currentEditingImage) {
        showStatus('Aucune nouvelle image s√©lectionn√©e', 'error');
        return;
      }
      
      const statusDiv = document.getElementById('uploadStatus');
      statusDiv.innerHTML = `<div class="spinner" style="width: 20px; height: 20px; display: inline-block; margin-right: 10px;"></div> Remplacement en cours...`;
      statusDiv.className = 'status';
      
      try {
        // Simuler l'upload (dans la vraie version, appeler GitHub API)
        await simulateUpload(selectedNewImage, currentEditingImage.filename);
        
        showStatus(`‚úÖ ${currentEditingImage.filename} remplac√© avec succ√®s !`, 'success');
        closeModal();
        
        // Rafra√Æchir la galerie apr√®s 2 secondes
        setTimeout(() => {
          loadGallery();
        }, 2000);
        
      } catch (error) {
        showStatus(`‚ùå Erreur : ${error.message}`, 'error');
      }
    }
    
    function simulateUpload(file, filename) {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          // Simulation r√©ussie dans 95% des cas
          if (Math.random() > 0.05) {
            console.log(`Image remplac√©e : ${filename}`);
            resolve();
          } else {
            reject(new Error('√âchec de l\'upload'));
          }
        }, 1500);
      });
    }
    
    // Supprimer une image
    function confirmDelete(filename) {
      if (confirm(`Supprimer d√©finitivement ${filename} ?`)) {
        showStatus(`üóëÔ∏è ${filename} supprim√©`, 'success');
        // Rafra√Æchir apr√®s 1 seconde
        setTimeout(() => {
          loadGallery();
        }, 1000);
      }
    }
    
    function deleteImage() {
      if (currentEditingImage) {
        confirmDelete(currentEditingImage.filename);
        closeModal();
      }
    }
    
    // Upload de nouvelles images
    function handleDroppedFiles(files) {
      const statusDiv = document.getElementById('uploadStatus');
      
      if (files.length === 0) {
        showStatus('Aucun fichier s√©lectionn√©', 'error');
        return;
      }
      
      // Afficher les infos
      const fileList = Array.from(files).slice(0, 5);
      const category = document.getElementById('categorySelect').value;
      const customName = document.getElementById('imageName').value;
      
      let message = `${fileList.length} fichier(s) s√©lectionn√©(s) :<br>`;
      fileList.forEach((file, i) => {
        const filename = customName || `${category}${i+1}.jpg`;
        message += `‚Ä¢ ${filename}<br>`;
      });
      
      statusDiv.innerHTML = message;
      statusDiv.className = 'status';
    }
    
    function uploadNewImages() {
      const fileInput = document.getElementById('fileInput');
      const category = document.getElementById('categorySelect').value;
      const customName = document.getElementById('imageName').value;
      
      if (!fileInput.files.length) {
        showStatus('S√©lectionnez d\'abord des fichiers', 'error');
        return;
      }
      
      const files = Array.from(fileInput.files).slice(0, 5);
      const statusDiv = document.getElementById('uploadStatus');
      
      statusDiv.innerHTML = `<div class="spinner" style="width: 20px; height: 20px; display: inline-block; margin-right: 10px;"></div> Upload en cours...`;
      statusDiv.className = 'status';
      
      // Simuler l'upload
      setTimeout(() => {
        let uploadedCount = 0;
        files.forEach((file, i) => {
          const filename = customName || `${category}${i+1}.jpg`;
          console.log(`Upload simul√© : ${filename}`);
          uploadedCount++;
        });
        
        showStatus(`‚úÖ ${uploadedCount} image(s) upload√©e(s) avec succ√®s !`, 'success');
        
        // R√©initialiser et rafra√Æchir
        fileInput.value = '';
        document.getElementById('imageName').value = '';
        
        setTimeout(() => {
          loadGallery();
          switchTab('gallery');
        }, 2000);
        
      }, 2000);
    }
    
    // Changer l'image hero
    function changeHeroImage() {
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = 'image/*';
      
      input.onchange = (e) => {
        if (e.target.files[0]) {
          editImage('hero.jpg', 'Image Hero');
          setTimeout(() => {
            document.getElementById('imageUploadInput').files = e.target.files;
            handleImageUpload(e.target.files[0]);
          }, 100);
        }
      };
      
      input.click();
    }
    
    // Filtrage
    function filterImages(category) {
      const cards = document.querySelectorAll('.image-card');
      const buttons = document.querySelectorAll('#gallery-tab .btn-secondary');
      
      // Mettre √† jour les boutons
      buttons.forEach(btn => {
        btn.style.background = 'transparent';
        btn.style.color = '#d4af37';
      });
      
      // Activer le bouton s√©lectionn√©
      if (category !== 'all') {
        document.querySelector(`button[onclick="filterImages('${category}')"]`).style.background = '#d4af37';
        document.querySelector(`button[onclick="filterImages('${category}')"]`).style.color = '#1a1a2e';
      }
      
      // Filtrer les cartes
      cards.forEach(card => {
        if (category === 'all' || card.dataset.category === category) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    }
    
    // Navigation par onglets
    function switchTab(tabName) {
      // D√©sactiver tous les onglets
      document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
      });
      
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
      });
      
      // Activer l'onglet s√©lectionn√©
      document.querySelector(`button[onclick="switchTab('${tabName}')"]`).classList.add('active');
      document.getElementById(`${tabName}-tab`).classList.add('active');
    }
    
    // Utilitaires
    function showStatus(message, type = '') {
      const statusDiv = document.getElementById('uploadStatus') || document.createElement('div');
      statusDiv.innerHTML = message;
      statusDiv.className = `status ${type}`;
      
      if (type === 'success') {
        setTimeout(() => {
          statusDiv.innerHTML = '';
          statusDiv.className = 'status';
        }, 5000);
      }
    }
    
    function closeModal() {
      document.getElementById('editModal').style.display = 'none';
      currentEditingImage = null;
      selectedNewImage = null;
    }
  </script>
</body>
</html>
